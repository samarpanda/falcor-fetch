<html>
<head>
    <script src="//netflix.github.io/falcor/build/falcor.browser.js"></script>
<script>

var $ref = falcor.Model.ref;
var $atom = falcor.Model.atom;
var $error = falcor.Model.error;

var json = {
	titlesById: {
		234: {
			name: "House of Cards",
			rating: $atom(5),
			bookmark: $error("Something went wrong")
		}
	},
	genreList: [
		{
			name: "Recently Watched",
			titles: [
				$ref("titlesById[234]")
			]
		},
		{
			name: "New Releases",
			titles: [
				$ref("titlesById[234]")
			]
		}
	]
};

var model = new falcor.Model({cache:json});

model
	.get('genreList[0].titles[0].["name", "rating"]')
	.then(
		function(value){console.log(JSON.stringify(value, null, 4));}
	);


</script>
</head>
<body>
</body>
</html>
